import{useRef as n,useState as e,useMemo as t,useCallback as i}from"react";function r(){return r=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},r.apply(null,arguments)}var o=["ArrowRight","Right"],a=["ArrowDown","Down"],c=[].concat(["ArrowLeft","Left"],o),u=[].concat(["ArrowUp","Up"],a),s=[].concat(o,a),l=function(o){var a=o.axis,l=o.disabled,d=void 0!==l&&l,f=o.initial,v=void 0===f?0:f,p=o.min,m=void 0===p?0:p,g=o.max,h=void 0===g?Infinity:g,y=o.reverse,w=o.step,x=void 0===w?10:w,R=o.shiftStep,b=void 0===R?50:R,D=o.onResizeStart,P=o.onResizeEnd,E=o.containerRef,z=Math.min(Math.max(v,m),h),k=n(!1),L=e(!1),A=L[0],C=L[1],M=e(z),S=M[0],X=M[1],Y=n(z),K=e(z),O=K[0],j=K[1],B=t(function(){return{role:"separator","aria-valuenow":S,"aria-valuemin":m,"aria-valuemax":h,"aria-orientation":"x"===a?"vertical":"horizontal","aria-disabled":d}},[a,d,h,m,S]),I=i(function(n){if(k.current&&!d){n.stopPropagation(),n.preventDefault();var e=function(){if("x"===a){if(null!=E&&E.current){var e=E.current.getBoundingClientRect(),t=e.left;return y?t+e.width-n.clientX:n.clientX-t}return y?document.body.offsetWidth-n.clientX:n.clientX}if(null!=E&&E.current){var i=E.current.getBoundingClientRect(),r=i.top;return y?r+i.height-n.clientY:n.clientY-r}return y?document.body.offsetHeight-n.clientY:n.clientY}();e=Math.min(Math.max(e,m),h),X(e),Y.current=e}},[a,d,h,m,y,E]),U=i(function(n){d||(n.stopPropagation(),k.current=!1,C(!1),j(Y.current),document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",U),P&&P({position:Y.current}))},[d,I,P]),H=i(function(n){d||(n.stopPropagation(),n.preventDefault(),k.current=!0,C(!0),document.addEventListener("pointermove",I),document.addEventListener("pointerup",U),D&&D({position:Y.current}))},[d,I,U,D]),W=i(function(n){if(!d){if("Enter"===n.key)return X(v),void(Y.current=v);if(("x"!==a||c.includes(n.key))&&("y"!==a||u.includes(n.key))){D&&D({position:Y.current});var e=n.shiftKey?b:x,t=y?-1:1,i=s.includes(n.key)?t:-1*t,r=S+e*i;r<m?(X(m),Y.current=m):r>h?(X(h),Y.current=h):(X(r),Y.current=r),P&&P({position:Y.current})}}},[d,a,D,b,x,y,S,m,h,P,v]),q=i(function(){d||(X(v),Y.current=v)},[d,v]);return{position:S,endPosition:O,isDragging:A,separatorProps:r({},B,{onPointerDown:H,onKeyDown:W,onDoubleClick:q}),setPosition:X,splitterProps:r({},B,{onPointerDown:H,onKeyDown:W,onDoubleClick:q})}},d=function(n){var e=n.disabled,t=n.initial,i=n.min,r=n.max;return(0,n.children)(l({axis:n.axis,disabled:void 0!==e&&e,initial:void 0===t?0:t,min:void 0===i?0:i,max:void 0===r?Infinity:r,reverse:n.reverse,onResizeStart:n.onResizeStart,onResizeEnd:n.onResizeEnd,containerRef:n.containerRef}))};export{d as default,l as useResizable};
